Haidao Suanjing (海島算經; The Island Mathematical Manual) was written by the Chinese mathematician Liu Hui of the Three Kingdoms era (220–280) as an extension  of chapter 9 of The Nine Chapters on the Mathematical Art.
During the Tang dynasty, this appendix was taken out from The Nine Chapters on the Mathematical Art as a separate book, titled Haidao suanjing
(Sea Island Mathematical Manual), named after problem No 1 "Looking at a sea island." In the time of the early Tang dynasty, Haidao Suanjing was selected into one of The Ten Computational Canons as the official mathematical texts for imperial examinations in mathematics.


== Content ==

This book contained many practical problems of surveying using geometry.  This work provided detailed instructions on how to measure distances and heights with tall surveyor's poles and horizontal bars fixed at right angles to them. The units of measurement were

1 li = 180 zhang = 1800 chi,
1 zhang = 10 chi = 100 cun,
1 bu (step) = 6 chi,
1 chi = 10 cun.
Calculation was carried out with place value decimal Rod calculus.
Liu Hui used his rectangle in right angle triangle theorem as the mathematical basis for survey. The setup is pictured on the right. By invoking his "in-out-complement" principle, he proved that the area of two inscribed rectangles in the two complementary right angle triangles have equal area, thus

  
    
      
        C
        E
        ⋅
        A
        F
        =
        F
        B
        ⋅
        B
        C
      
    
    {\displaystyle CE\cdot AF=FB\cdot BC}
  


=== Survey of sea island ===

Now we are surveying a sea island. Set up two 3-zhang poles at 1000 steps apart; let the two poles and the island be in a straight line. Step back from the front post 123 steps. With eye on ground level, the tip of the pole is on a straight line with the peak of island. Step back 127 steps from the rear pole. Eye on ground level also aligns with the tip of pole and tip of island. What is the height of the island, and what is the distance to the pole?
Answer: The height of the island is 4 li and 55 steps, and it is 102 li and 150 steps from the pole.
Method: Let the numerator equal to the height of pole multiplied by the separation of poles, let denominator be the difference of offsets, add the quotient to the height of pole to obtain the height of island.

As the distance of front pole to the island could not be measured directly, Liu Hui set up two poles of same height at a known distance apart
and made two measurements. The pole was perpendicular to the ground, eye view from ground level when the tip of pole was on a straight line sight with the peak of island, the distance of eye to the pole was called front offset = 
  
    
      
        D
        G
      
    
    {\displaystyle DG}
  
, similarly, the back offset = 
  
    
      
        F
        H
      
    
    {\displaystyle FH}
  
, difference of offsets = 
  
    
      
        F
        H
        −
        D
        G
      
    
    {\displaystyle FH-DG}
  
.

Pole height 
  
    
      
        C
        D
        =
        30
      
    
    {\displaystyle CD=30}
  
 chi
Front pole offset 
  
    
      
        D
        G
        =
        123
      
    
    {\displaystyle DG=123}
  
 steps
Back pole offset 
  
    
      
        F
        H
        =
        127
      
    
    {\displaystyle FH=127}
  
 steps
Difference of offset = 
  
    
      
        F
        H
        −
        D
        G
      
    
    {\displaystyle FH-DG}
  

Distance between the poles = 
  
    
      
        D
        F
      
    
    {\displaystyle DF}
  

Height of island = 
  
    
      
        A
        B
      
    
    {\displaystyle AB}
  

Distance of front pole to island = 
  
    
      
        B
        D
      
    
    {\displaystyle BD}
  

Using his principle of inscribe rectangle in right angle triangle for 
  
    
      
        △
        A
        B
        G
      
    
    {\displaystyle \triangle ABG}
  
 and 
  
    
      
        △
        A
        B
        H
      
    
    {\displaystyle \triangle ABH}
  
, he obtained:

Height of island 
  
    
      
        A
        B
        =
        
          
            
              
                C
                D
                ×
                D
                F
              
              
                F
                H
                −
                D
                G
              
            
          
        
        +
        C
        D
      
    
    {\displaystyle AB={\tfrac {CD\times DF}{FH-DG}}+CD}
  

Distance of front pole to island 
  
    
      
        B
        D
        =
        
          
            
              
                D
                G
                ×
                D
                F
              
              
                F
                H
                −
                D
                G
              
            
          
        
      
    
    {\displaystyle BD={\tfrac {DG\times DF}{FH-DG}}}
  
.


=== Height of a hill top pine tree ===

A pine tree of unknown height grows on the hill.  Set up two poles of 2 zhang each, one at front and one at the rear 50 steps in between. Let the rear pole align with the front pole. Step back 7 steps and 4 chi, view the tip of  pine tree from the ground till it aligns in a straight line with the tip of the pole. Then view the tree trunk, the line of sight intersects the poles at 2 chi and 8 cun from its tip . Step back 8 steps and 5 chi from the rear pole,  the view from ground also aligns with tree top and pole top.  What is the height of the pine tree, and what is its distance from the pole ?
Answer: the height of the pine is 12 zhang 2 chi 8 cun, the distance of mountain from the pole is 1 li and (28 + 4/7) steps.
Method: let the numerator be the product of separation of the poles and  intersection from tip of pole, let the denominator be the difference of offsets. Add the height of pole to the quotient to obtain the height of pine tree.


=== The size of a square city wall viewed afar ===

We are viewing from the south a square city of unknown size. Set up an east gnome and a west pole, 6 zhang apart, linked with a rope at eye level. Let the east pole aligned with the NE and SE corners. Move back 5 steps from the north gnome, watch the NW corner of the city, the line of sight intersects the rope at 2 zhang 2 chi and 6.5 cun from the east end. Step back northward 13 steps and 2 chi, watch the NW corner of the city, the line of sight just aligns with the west pole.  What is the length of the square city, and what is its distance to the pole?
Answer: The length of the square city is 3 li, 43 and 3/4 steps; the distance of the city to the pole is 4 li and 45 steps.


=== The depth of a ravine (using hence-forward cross-bars) ===


=== The height of a building on a plain seen from a hill ===


=== The breadth of a river-mouth seen from a distance on land ===


=== The depth of a transparent pool ===


=== The width of a river as seen from a hill ===


=== The size of a city seen from a mountain ===


== Studies and translations ==
The 19th century British Protestant Christian missionary Alexander Wylie in his article "Jottings on the Sciences of Chinese Mathematics" published in North China Herald 1852, was the first person to introduce Sea Island Mathematical Manual to the West. In 1912, Japanese mathematic historian Yoshio Mikami published The Development of Mathematics in China and Japan, chapter 5 was dedicated to this book. A French mathematician translated the book into French in 1932. In 1986 Ang Tian Se and Frank Swetz translated Haidao into English.
After comparing the development of surveying in China and the West, Frank Swetz concluded that "in the endeavours of mathematical surveying, China's accomplishments exceeded those realized in the West by about one thousand years."


== References ==